<?php

$carouselDetails = array(
    (object) array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'bryn-hall',
        ),
        'illustrator' => 'Bryn Hall',
        'title' => 'Grok',
        'extract' => (object) array(
            'title' => 'The Truth is, Mr Owl',
            'blurb' => "The truth is, Mr Owl, I have been very afraid living here. The truth is, little one, this isn’t the first time I've visited you. I've seen everything and I will continue to. You can feel me beside you, my feathers against your skull and ear. My voice inside your inside voice. I slip in close beside your consciousness. So smooth and stealthy you didn't notice before this moment. So now draw back the shades that obscure your own lucidity from you. I cannot be called for by your tongue or your wishing in the cold night, but I’ll push words through your pores. I am always watching those who cannot watch themselves.",
            'writer' => 'Megan Leonie Hall'
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'lee-holland',
        ),
        'illustrator' => 'Lee Holland',
        'title' => 'Optimistic',
        'extract' => (object)array(
            'title' => 'I Told Her to Hold out her Hands',
            'blurb' => '<p>I told her to hold out her hands and poured the coins into them. One by one I put the coins back into the purse until only my old friend remained.</p><p class="tab-left">"What is so special about this one? It is no different."</p><p class="tab-left">"It\'s mine, that\'s all</p><p class="tab-left">"There\'s something funny about you."</p> <p>There was something funny about her too and, as I handed her back the rest of the money, I had the sudden urge to kiss her again.</p>',
            'writer' => 'Will Conway'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'time-book-illustrations',
        ),
        'illustrator' => 'D. S. Chidgey',
        'title' => 'Illustrations',
        'extract' => (object)array(
            'title' => '',
            'blurb' => 'The stories and poems included in the book were passed to a huge variety of illustrators, artists and photographers. They interpreted the words as literally or loosely, drawing out the meaning that was conveyed to them upon reading.',
            'writer' => ''
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'claud-forsbrey',
        ),
        'illustrator' => 'Claud Forsbrey',
        'title' => 'Warrior Girl',
        'extract' => (object)array(
            'title' => 'Warm Skin',
            'blurb' => '<p>Warm skin, dark eyes, fingers, count them, ten,</p><p>to reach and touch and point, to form</p><p>a fist and fight.  I am ready, and far less fearful now than you.</p><p>I am the you that you thought you were going to be.</p>',
            'writer' => 'Stacie Withers'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'carl-laurance',
        ),
        'illustrator' => 'Carl Laurence',
        'title' => 'Eibar',
        'extract' => (object)array(
            'title' => 'Only the gun remained',
            'blurb' => '"Only the gun remained. She bent over and picked it up, fingers feeling out the warmth of her father’s hand. Its weight bent her wrist and buckled her skinny arms."',
            'writer' => 'Sam Rawlings'
        )
    ),
    (object)array(
        'klassName' => 'rectangle no-edge',
        'img' => (object) array(
            'klassName' => 'rima-staines',
        ),
        'illustrator' => 'Rima Staines',
        'title' => 'The Scrimstone Circus Gospel &#40;Childhood&#41;',
        'extract' => (object)array(
            'title' => 'In the Midst of the Celebrations',
            'blurb' => 'In the midst of the celebrations, a drunken man &#40;with little in the way of name or, apparently, story&#41; shot and killed my father. They say he died happy, but I am less certain. I never saw it happen, though, for I was long-gone with a two-thirds share of his savings in my bag. They say he was buried in a fine suit. It cannot have been his own.',
            'writer' => 'Tom Hirons'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'time-book-text',
        ),
        'illustrator' => 'Dan Prescott',
        'title' => 'Type Setting',
        'extract' => (object)array(
            'title' => '',
            'blurb' => 'Each section of the book has been designed and type set in a distinctive fashion to echo the epoch of the stories.',
            'writer' => ''
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'andrew-walter',
        ),
        'illustrator' => 'Andrew Walter',
        'title' => 'Peter',
        'extract' => (object)array(
            'title' => 'The stopper stops',
            'blurb' => 'The stopper stops to let another train pass and Peter stares through the window into the scraplands that line the tracks, the bits of place that are neither here nor there, just unnamed woodlands and the backs of things.  And there amongst the peeling birch Peter sees a man, inked and shirtless in the mossy light, a chicken clutched like bagpipes under one ham-hock arm. The train peels away and Peter cranes his neck but all he catches is the flick of the man’s head and the flight of another as it arcs in a flurry of feathers and blood to land beak-down in the leaves.',
            'writer' => 'Jodie Daber'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'time-cover',
        ),
        'illustrator' => 'D. S. Chidgey',
        'title' => 'Time book cover',
        'extract' => (object)array(
            'title' => 'Initially Inspired',
            'blurb' => '<p>Initially inspired by a discussion on gamebooks, this project has taken over three years to grow into what you are now holding in your hands.</p><p>The importance of collaboration has always been central to Lazy Gramophone Press\'s ethos, especially the pairing of words and images. This project therefore, is our chance to bring everyone together under one cover, all focused upon the same theme in order to produce a unique portrait of time.',
            'writer' => 'Sam Rawlings'
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'jeannie-paske',
        ),
        'illustrator' => 'Jeannie Paske',
        'title' => 'Haunted by the Perpetual Roar of Gravity',
        'extract' => (object)array(
            'title' => 'Bodies Two Blades of Grass',
            'blurb' => '<p>Slender bodies two blades of grass,</p><p>upon the winds so they arose, so they swayed;</p><p>the dawn cloaked, a shroud of snow.</p><p>Yet still their barge smoked prophetically,</p><p>that evening’s warmth beginning to temper</p><p>beneath a cold hue of plunging light.</p>',
            'writer' => 'Sam Rawlings'
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'tom-harris',
        ),
        'illustrator' => 'Tom Harris',
        'title' => 'Inland',
        'extract' => (object)array(
            'title' => 'The Boy Dragged his Wine Crate Boat behind Him',
            'blurb' => 'The boy dragged his wine crate boat behind him as he sailed through the fields he took for the sea – they were flat enough, the horizon steady enough, ripples of freshly turned peat as far as the boy could see. He played captain, fisherman, explorer on the lookout for new land. Crows en masse made for storms in the boundless, otherwise still sky.',
            'writer' => 'Rahima Fitzwilliam Hall'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'time-book-first-page',
        ),
        'illustrator' => 'D. S. Chidgey',
        'title' => '',
        'extract' => (object)array(
            'title' => 'Time',
            'blurb' => '<p>"Time does not belong to me</p><p>It spreads itself like air</p><p>I move about in it, but have no place"</p><p class="bottom-margin">written by ivor cutler</p><p>Printed with permission of the Estate of Ivor Cutler</p><a class="highlight" href="http//www.ivorcutler.org">www.ivorcutler.org</a> <br />Time_',
            'writer' => 'Ivor Cutler &#40;with permission of the estate of Ivor Cutler&#41;'
        )
    ),
    (object)array(
        'klassName' => 'rectangle no-edge',
        'img' => (object) array(
            'klassName' => 'rima-staines-gospel',
        ),
        'illustrator' => 'Rima Staines',
        'title' => 'The Scrimstone Circus Gospel &#40;Old Age&#41;',
        'extract' => (object)array(
            'title' => 'The Day my Trial was to Begin',
            'blurb' => 'The day my trial was to begin, there was a storm. I watched it brew from nowhere, like the arrival of a whale from the deep. Here’s something the ship sank. She went down with stocks and stores and the judge and all twelve of the jurymen sent to try me. The waves ate them like ship’s crackers, without delight or comment but only the necessity of sustenance. I watched them sink. The sea closed over them like history.',
            'writer' => 'Tom Hirons'
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'time-diagram',
        ),
        'illustrator' => 'D. S. Chidgey',
        'title' => 'Time structure diagram',
        'extract' => (object)array(
            'title' => 'A Visual Guide',
            'blurb' => "The stories in this book have been structured around a Central Story. The Central Story is biographical in that it follows the course of a character's life through childhood to adolescence–adulthood and then on into old age.",
            'writer' => 'Sam Rawlings'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'time-book-printing',
        ),
        'illustrator' => 'D. S. Chidgey',
        'title' => 'Printing',
        'extract' => (object)array(
            'title' => '',
            'blurb' => 'We work very closely with our printers to ensure our vision on screen translates to the finished pages.',
            'writer' => ''
        )
    ),
    (object)array(
        'klassName' => 'rectangle',
        'img' => (object) array(
            'klassName' => 'kaitlin-beckett',
        ),
        'illustrator' => 'Kaitlin Beckett',
        'title' => 'Ocean',
        'extract' => (object)array(
            'title' => 'The Storms that Broke the Surface when Our Currents Crossed',
            'blurb' => '<p>The storms that broke the surface when our currents crossed, The nights I drew back deepest – when I learned to swim – </p><p class="top-margin">Forged a stronger wave from out those lowest troughs, That left no stone unturned that was not turned for Him.<p>',
            'writer' => 'Sorana Santo'
        )
    ),
    (object)array(
        'klassName' => 'square',
        'img' => (object) array(
            'klassName' => 'tim-greaves',
        ),
        'illustrator' => 'Tim Greaves',
        'title' => 'The Dash In-between',
        'extract' => (object)array(
            'title' => "The Day's Light was Dimming Through the Window",
            'blurb' => '<p>Just as the day\'s light was dimming through the window, I reached over to flatten his crumpled hair. His eyes caught mine, suddenly focussed. I breathed in.</p><p class="tab-left">"Are you scared Granddad..?" I asked him, quietly.</p><span class="tab-left">"No,"</span> he whispered, as fearlessly as I always remember him, eyes at once shiny and determined. "On my gravestone will be my birth date, my death date and a dash in-between. We all would do best to remember that dash in-between..." his voice trailed off, coughing.',
            'writer' => 'Claire Fletcher'
        )
    ),
    (object)array(
        'klassName' => 'rectangle no-edge',
        'img' => (object) array(
            'klassName' => 'rima-staines-circus',
        ),
        'illustrator' => 'Rima Staines',
        'title' => 'The Scrimstone Circus Gospel &#40;childhood&#41;',
        'extract' => (object)array(
            'title' => 'My Circus Travelled the Four Kingdoms',
            'blurb' => 'My circus travelled the four kingdoms and the thrice-nine lands, bringing joy to those whose lives were so tarnished as to be polished by such a meagre smear of laughter as the pathetic clowns could offer or the dubious wonder of acrobats who were, to be honest, more flexible with the truth than with their bodies.',
            'writer' => 'Tom Hirons'
        )
    )
);

$html = '<ul class="pictures">';

$template = '<li class="book-article {klassName}">';
$template .= '<div class="image-wrapper group">';
$template .= '<h2 class="image-title">{pictureTitle}</h2>';
$template .= '<div class="load image {imgKlassName}"></div>';
$template .= '{pictureIllustrator}';
$template .= '</div>';
$template .= '<div class="extract group">';
$template .= '<div class="extract-title big-text">{extractTitle}{extractWriter}</div>';
$template .= '<p class="extract-blurb medium-text">{extractBlurb}</p>';
$template .= '</div>';
$template .= '</li>';


foreach ($carouselDetails as $artistDetail) {

    $pictureIllustrator = !empty($artistDetail->illustrator) ? ('<h3 class="img-illustrator"><em>by ' . $artistDetail->illustrator . '</em></h3>') : '';
    $extractTitle = !empty($artistDetail->extract->title) ? "<h2>{$artistDetail->extract->title}</h2>" : '';
    $extractWriter = !empty($artistDetail->extract->writer) ? '<h3 class="highlight mini-text">by ' . $artistDetail->extract->writer . '</h3>' : '';
    $extractBlurb = !empty($artistDetail->extract->blurb) ? '<div class="extract-blurb medium-text">' . $artistDetail->extract->blurb . '</p>' : '';

    $html .= strtr($template,
        array(
            '{klassName}' => $artistDetail->klassName,
            '{imgKlassName}' => $artistDetail->img->klassName,
            '{pictureTitle}' => $artistDetail->title,
            '{pictureIllustrator}' => $pictureIllustrator,
            '{extractTitle}' => $extractTitle,
            '{extractWriter}' => $extractWriter,
            '{extractBlurb}' => $extractBlurb
        )
    );
}

$html .= '</ul>';

echo $html;